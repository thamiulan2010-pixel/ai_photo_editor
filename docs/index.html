<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Photo Editor</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="static/style.css">
</head>
<body>

<h1>AI Photo Editor</h1>
<form id="anime-form" method="POST" enctype="multipart/form-data">
  <input type="text" name="name" placeholder="Enter your name" required>
  <input type="file" name="image" accept="image/*" required>
  <button type="submit">Generate Anime</button>
</form>

<div class="result">

</div>

<script>
const form = document.getElementById("anime-form");
const resultDiv = document.querySelector(".result");

form.addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData(form);
  const name = formData.get("name");

  resultDiv.innerHTML = '<div class="loader"></div>';

  // GitHub Pages cannot run Python backend, so this will fail if trying to POST
  // You can still test static UI, but image generation requires a server
  const response = await fetch("/", {
    method: "POST",
    body: formData
  });

  const blob = await response.blob();
  const imgURL = URL.createObjectURL(blob);

  resultDiv.innerHTML = `
    <img src="${imgURL}" alt="Generated Anime">
    <div class="user-name">Edited for: ${name}</div>
  `;
});
</script>
</body>
</html>
